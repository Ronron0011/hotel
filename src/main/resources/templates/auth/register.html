<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Login</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
          integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/register.css}">
    <!-- Include your CSS or style references here -->
</head>
<body>
<body class="form-v6">
<div class="page-contents">
    <div class="form-v6-content">
        <div class="form-left">
            <img th:src="@{/images/anh1.jpg}" alt="form">
        </div>
        <form class="form-detail" th:action="@{/register/save}" th:object="${register}" method="post">
            <div th:if="${error != null}" class="w-100 text-danger text-center">
                <p th:text="${error}"></p>
            </div>

            <h2>Create Account</h2>
            <div class="form-row">
                <i class="fa-regular fa-user icon"></i>
                <input type="text" name="firstName" id="firstName" th:field="*{firstName}" class="input-text" placeholder="First Name">
            </div>
            <div class="w-100  text-danger"
                 th:if="${#fields.hasErrors('firstName')}"
                 th:errors="*{firstName}">
            </div>
            <div class="form-row">
                <i class="fa-regular fa-user icon"></i>
                <input type="text" name="lastName" id="lastName" th:field="*{lastName}" class="input-text" placeholder="Last Name" >
            </div>
            <div class="w-100 text-danger"
                 th:if="${#fields.hasErrors('lastName')}"
                 th:errors="*{lastName}">
            </div>
            <div class="form-row">
                <i class="fa-regular fa-envelope-open icon"></i>
                <input type="email" name="email" id="email" th:field="*{email}" class="input-text" placeholder="Email Address">
            </div>
            <div class="w-100  text-danger"
                 th:if="${#fields.hasErrors('email')}"
                 th:errors="*{email}">
            </div>
            <div class="form-row">
                <i class="fa-solid fa-mobile-screen-button icon"></i>
                <input type="text" name="phone" id="phone" class="input-text" th:field="*{phone}"  placeholder="Phone" >
            </div>
            <div class="w-100  text-danger"
                 th:if="${#fields.hasErrors('phone')}"
                 th:errors="*{phone}">
            </div>
            <div class="form-row">
                <i class="fa-solid fa-lock icon"></i>
                <input type="password" name="password" id="password" class="input-text"  th:field="*{password}" placeholder="Password" >

                <i class="fa-solid fa-eye-slash " id="eysPassword" style="margin-left: -30px; cursor: pointer;color: #a0a0a0"></i>
            </div>
            <div class="w-100  text-danger"
                 th:if="${#fields.hasErrors('password')}"
                 th:errors="*{password}">
            </div>
            <div class="form-row">
                <i class="fa-solid fa-lock icon"></i>
                <input type="password" name="rePassword" id="rePassword" class="input-text"  th:field="*{rePassword}" placeholder="Confirm password" >
                <i class="fas fa-eye-slash" id="eyePassword" style="margin-left: -30px; cursor: pointer; color: #a0a0a0"></i>

            </div>
            <div class="w-100  text-danger"
                 th:if="${#fields.hasErrors('rePassword')}"
                 th:errors="*{rePassword}">
            </div>
            <div class="">
                <button type="submit" class="btn btn-primary btn-sm w-100 ">Register</button>

            </div>
            <p class="forgotLink" style="
                      text-align: center;
                       z-index: 2;
                       font-size: .8em;
                       font-weight: 500;
                       color: rgb(44, 24, 128);
                       text-decoration: none;
                       padding: 8px 15px;
                       border-radius: 20px;">Already have an account?
                <a th:href="@{/login}">Login</a>
            </p>
        </form>
    </div>
</div>
<script>
    const togglePassword = document.querySelector("#eysPassword");
    const password = document.querySelector("#password");

    togglePassword.addEventListener("click", function () {

        const type = password.getAttribute("type") === "password" ? "text" : "password";
        password.setAttribute("type", type);

        this.classList.toggle("fa-eye");
    });
    const eyePassword = document.querySelector("#eyePassword");
    const rePassword = document.querySelector("#rePassword");

    eyePassword.addEventListener("click", function () {
        const type = rePassword.getAttribute("type") === "password" ? "text" : "password";
        rePassword.setAttribute("type", type);

        if (type === "password") {
            this.classList.remove("fa-eye");
            this.classList.add("fa-eye-slash");
        } else {
            this.classList.remove("fa-eye-slash");
            this.classList.add("fa-eye");
        }
    });

</script>

</body>
</html>

